<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>廌行普法 - 法治教育资源共享平台</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding-bottom: 40px;
        }
        /* 新增：小太阳普法课堂多级菜单样式 */
        .sunny-class {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px 20px 0;
        }
        .sunny-main {
            background: rgba(255,255,255,0.95);
            border-radius: 10px;
            padding: 15px 20px;
            cursor: pointer;
            font-size: 1.5rem;
            font-weight: bold;
            color: #1e3c72;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .sunny-main::before {
            content: "☀️";
            font-size: 1.8rem;
        }
        .level-1 {
            margin-top: 5px;
            background: rgba(255,255,255,0.9);
            border-radius: 0 0 10px 10px;
            overflow: hidden;
            max-height: 0;
            transition: max-height 0.3s ease;
        }
        .sunny-class:hover .level-1 {
            max-height: 600px;
            padding: 10px 0;
        }
        .level-1-item {
            padding: 8px 40px;
            font-size: 1.2rem;
            color: #333;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        .level-1-item:hover {
            background: #e3f2fd;
        }
        .level-2 {
            margin-top: 3px;
            background: rgba(248,249,250,0.9);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .level-1-item:hover .level-2 {
            max-height: 400px;
            padding: 5px 0;
        }
        .level-2-item {
            padding: 6px 60px;
            font-size: 1rem;
            color: #444;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        .level-2-item:hover {
            background: #d1ecf1;
        }
        .level-3 {
            margin-top: 2px;
            background: rgba(241,243,245,0.9);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .level-2-item:hover .level-3 {
            max-height: 300px;
            padding: 3px 0;
        }
        .level-3-item {
            padding: 4px 80px;
            font-size: 0.9rem;
            color: #555;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        .level-3-item:hover {
            background: #e2e6ea;
        }
        .level-4 {
            margin-top: 1px;
            background: rgba(233,236,239,0.9);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .level-3-item:hover .level-4 {
            max-height: 200px;
            padding: 2px 0;
        }
        .level-4-item {
            padding: 3px 100px;
            font-size: 0.85rem;
            color: #666;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-bottom: 40px;
            text-align: center;
        }
        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            overflow: hidden;
            padding: 5px;
        }
        .header-content h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header-content p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        /* 新增：团队信息样式 */
        .team-info {
            text-align: center;
            color: white;
            margin-bottom: 20px;
            font-size: 1rem;
            opacity: 0.9;
        }
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        .feature-card h3 {
            color: #333;
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
        }
        .resource-sharing {
            border-left: 5px solid #1e3c72;
        }
        .data-statistics {
            border-left: 5px solid #dc3545;
        }
        .demand-matching {
            border-left: 5px solid #28a745;
        }
        .upload-section {
            margin-bottom: 20px;
        }
        .upload-area {
            border: 2px dashed #1e3c72;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            border-color: #2a5298;
            background: #e3f2fd;
        }
        .upload-area.dragover {
            border-color: #2a5298;
            background: #e3f2fd;
            transform: scale(1.02);
        }
        .file-input {
            display: none;
        }
        .upload-icon {
            font-size: 3rem;
            color: #1e3c72;
            margin-bottom: 15px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: bold;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        .form-group textarea {
            height: 80px;
            resize: vertical;
        }
        .btn {
            background: linear-gradient(45deg, #1e3c72, #2a5298);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(30, 60, 114, 0.4);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(30, 60, 114, 0.6);
        }
        .resource-list {
            max-height: 400px;
            overflow-y: auto;
        }
        .resource-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #1e3c72;
        }
        .resource-item h4 {
            color: #333;
            margin-bottom: 8px;
        }
        .resource-item p {
            color: #666;
            font-size: 14px;
            margin-bottom: 5px;
        }
        .download-section {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
        .download-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            margin-right: 5px;
            margin-bottom: 5px;
            transition: all 0.3s ease;
        }
        .download-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(40, 167, 69, 0.4);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        .stat-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #dc3545;
            margin-bottom: 5px;
        }
        .stat-label {
            color: #666;
            font-size: 14px;
        }
        .demand-form {
            margin-bottom: 20px;
        }
        .demand-list {
            max-height: 300px;
            overflow-y: auto;
        }
        .demand-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #28a745;
        }
        .contact-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
        }
        .contact-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
        }
        /* 新增：底部图2内容样式 */
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .footer-title {
            font-size: 1.5rem;
            color: #1e3c72;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .law-topics {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        .law-topic-item {
            background: #f8f9fa;
            padding: 12px 15px;
            border-radius: 8px;
            color: #333;
            font-size: 1rem;
            border-left: 4px solid #2a5298;
            transition: transform 0.2s ease;
        }
        .law-topic-item:hover {
            transform: translateX(5px);
            background: #e3f2fd;
        }
        /* 新增：南师法学标识样式 */
        .nnu-law {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
        }
        .nnu-law-left {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        .nnu-law-text {
            font-size: 1.2rem;
            font-weight: bold;
        }
        .nnu-law-tags {
            display: flex;
            gap: 10px;
        }
        .nnu-law-tag {
            background: rgba(255,255,255,0.2);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }
        .follow-us {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            .header {
                flex-direction: column;
            }
            .logo {
                margin-right: 0;
                margin-bottom: 15px;
            }
            .header-content h1 {
                font-size: 2rem;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .law-topics {
                grid-template-columns: 1fr;
            }
            .nnu-law {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            .nnu-law-tags {
                justify-content: center;
            }
        }
        .file-preview {
            margin-top: 10px;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 5px;
            font-size: 14px;
            color: #333;
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <!-- 新增：小太阳普法课堂多级展开标题 -->
    <div class="sunny-class">
        <div class="sunny-main">小太阳普法课堂</div>
        <div class="level-1">
            <!-- 一级菜单：法律导学类 -->
            <div class="level-1-item">
                法律导学
                <div class="level-2">
                    <div class="level-2-item">
                        基础法律认知
                        <div class="level-3">
                            <div class="level-3-item">
                                法的起源与发展
                                <div class="level-4">
                                    <div class="level-4-item">法的由来&东西方法律辨析</div>
                                </div>
                            </div>
                            <div class="level-3-item">
                                法律体系概览
                                <div class="level-4">
                                    <div class="level-4-item">法学百科专业纵览</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="level-2-item">
                        法律职业认知
                        <div class="level-3">
                            <div class="level-3-item">
                                法律职业介绍
                                <div class="level-4">
                                    <div class="level-4-item">挥法律利剑 执正义天平（了解法律职业）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 一级菜单：核心法律类 -->
            <div class="level-1-item">
                核心法律知识
                <div class="level-2">
                    <div class="level-2-item">
                        宪法教育
                        <div class="level-3">
                            <div class="level-3-item">
                                宪法权威与精神
                                <div class="level-4">
                                    <div class="level-4-item">树立宪法权威 弘扬法治精神（宪法介绍）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="level-2-item">
                        民法教育
                        <div class="level-3">
                            <div class="level-3-item">
                                民法典科普
                                <div class="level-4">
                                    <div class="level-4-item">民法点亮我们的生活（民法典科普）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="level-2-item">
                        未成年人保护
                        <div class="level-3">
                            <div class="level-3-item">
                                预防犯罪与权益保护
                                <div class="level-4">
                                    <div class="level-4-item">与法同行无歧路 遵纪守法育未来（预防未成年人犯罪）</div>
                                    <div class="level-4-item">拒绝家庭暴力守护幸福时光（妇女儿童保护）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 一级菜单：权益保护类 -->
            <div class="level-1-item">
                权益保护
                <div class="level-2">
                    <div class="level-2-item">
                        消费与安全权益
                        <div class="level-3">
                            <div class="level-3-item">
                                消费与防骗
                                <div class="level-4">
                                    <div class="level-4-item">倡导诚实守信 共筑消费和谐（消费者权益保护日）</div>
                                    <div class="level-4-item">诈骗拐卖花样多 莫予理睬准没错（防范电诈拐卖）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="level-2-item">
                        校园权益
                        <div class="level-3">
                            <div class="level-3-item">
                                校园安全
                                <div class="level-4">
                                    <div class="level-4-item">向校园霸凌勇敢说不（拒绝校园欺凌）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 一级菜单：安全防护类 -->
            <div class="level-1-item">
                安全防护
                <div class="level-2">
                    <div class="level-2-item">
                        健康安全
                        <div class="level-3">
                            <div class="level-3-item">
                                食品与健康
                                <div class="level-4">
                                    <div class="level-4-item">民以食为天 食以安为先（食品安全）</div>
                                    <div class="level-4-item">预防流行疾病享受健康人生（防治流行病）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="level-2-item">
                        公共安全
                        <div class="level-3">
                            <div class="level-3-item">
                                消防与灾害防护
                                <div class="level-4">
                                    <div class="level-4-item">牢记消防知识点 巩固安全防火墙（消防安全）</div>
                                    <div class="level-4-item">手拉手防灾减灾心连心共筑安全（自然灾害防护）</div>
                                </div>
                            </div>
                            <div class="level-3-item">
                                网络与出行安全
                                <div class="level-4">
                                    <div class="level-4-item">关注健康平安成长 网络安全人人抓"信"福进入千万家（网络信息安全）</div>
                                    <div class="level-4-item">足行千里路眼观八方情 处处平安意（旅游安全）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 一级菜单：文化与社会类 -->
            <div class="level-1-item">
                文化与社会
                <div class="level-2">
                    <div class="level-2-item">
                        文化保护
                        <div class="level-3">
                            <div class="level-3-item">
                                遗产与环境
                                <div class="level-4">
                                    <div class="level-4-item">地球天然宝库 更需你我呵护（世界地球日）</div>
                                    <div class="level-4-item">绿水青山共同守护 清水滴滴大家省 源远流长润世人（节约用水）</div>
                                    <div class="level-4-item">千年运河消古韵 魅力中国换新颜（运河保护）</div>
                                    <div class="level-4-item">保护昨天的遗产 捍卫明天的文化（世界博物馆日）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="level-2-item">
                        社会价值
                        <div class="level-3">
                            <div class="level-3-item">
                                精神与信念
                                <div class="level-4">
                                    <div class="level-4-item">追寻烈士感恩思源（烈士纪念日）</div>
                                    <div class="level-4-item">勿忘国耻 吾辈自强（国家公祭日）</div>
                                    <div class="level-4-item">理想信念 造炬成阳 春风化雨历经艰辛 尊师重道勿忘师恩（教师节）</div>
                                    <div class="level-4-item">星梦续航再踏征途（航天日）</div>
                                    <div class="level-4-item">吹响法律促进集结号 奏响宜居乡村振兴歌（乡村振兴）</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- 新增：团队信息 -->
        <div class="team-info">
            <p>主办单位：南京师范大学法学院 | 致力于青少年法治教育资源共建共享</p>
        </div>

        <div class="header">
            <div class="logo">
                <img src="https://raw.githubusercontent.com/Liusssm/my-images/main/dcc409e5e9d2f7257b558a89e12e5f61.jpg" alt="廌行普法logo" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; display: block;">
            </div>
            <div class="header-content">
                <h1>廌行普法</h1>
                <p>青少年法治教育资源共享平台</p>
            </div>
        </div>

        <!-- 新增：南师法学标识 -->
        <div class="nnu-law">
            <div class="nnu-law-left">
                <div class="nnu-law-text">南师法学</div>
                <div class="nnu-law-tags">
                    <div class="nnu-law-tag">公平</div>
                    <div class="nnu-law-tag">正义</div>
                    <div class="nnu-law-tag">自由</div>
                </div>
            </div>
            <div class="follow-us">
                <span>关注我们</span>
                <span>更多信息轻松获取</span>
            </div>
        </div>

        <div class="main-content">
            <!-- 资源共享模块 -->
            <div class="feature-card resource-sharing">
                <h3>📚 普法资源共享</h3>
                
                <div class="upload-section">
                    <div class="upload-area" id="uploadArea">
                        <div class="upload-icon">📤</div>
                        <p>点击上传文件或拖拽文件到此处</p>
                        <p style="font-size: 12px; color: #666; margin-top: 10px;">
                            支持：图片、视频、文档等格式
                        </p>
                        <input type="file" id="fileInput" class="file-input" multiple="" accept="*/*">
                    </div>
                    <div id="filePreview"></div>
                </div>
                <div class="form-group">
                    <label>资源标题</label>
                    <input type="text" id="resourceTitle" placeholder="请输入普法资源标题">
                </div>
                <div class="form-group">
                    <label>教育阶段</label>
                    <select id="gradeLevel">
                        <option value="">请选择教育阶段</option>
                        <option value="小学法治教育">小学法治教育</option>
                        <option value="中学法治教育">中学法治教育</option>
                        <option value="思想政治教育">思想政治教育</option>
                        <option value="青少年普法">青少年普法</option>
                        <option value="法治实践">法治实践</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>内容分类</label>
                    <select id="subject">
                        <option value="">请选择内容分类</option>
                        <option value="宪法教育">宪法教育</option>
                        <option value="民法典">民法典</option>
                        <option value="刑法教育">刑法教育</option>
                        <option value="网络安全法">网络安全法</option>
                        <option value="未成年人保护法">未成年人保护法</option>
                        <option value="交通安全">交通安全</option>
                        <option value="校园法治">校园法治</option>
                        <option value="学法感受">学法感受</option>
                        <option value="其他">其他</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>资源描述</label>
                    <textarea id="resourceDesc" placeholder="请简要描述资源内容和用途，如普法情况、学法感受等"></textarea>
                </div>
                <button class="btn" onclick="uploadResource()">📤 分享资源</button>
                <div style="margin-top: 30px;">
                    <h4 style="margin-bottom: 15px; color: #333;">📋 最新资源</h4>
                    <div class="resource-list" id="resourceList">
                        <p style="text-align: center; color: #666;">暂无资源，快来分享第一个普法资源吧！</p>
                    </div>
                </div>
            </div>
            <!-- 数据统计模块 -->
            <div class="feature-card data-statistics">
                <h3>📊 数据统计</h3>
                
                <!-- 学法感受上传表单 -->
                <div style="margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                    <h4 style="margin-bottom: 15px; color: #333;">✍️ 上传学法感受</h4>
                    <div class="form-group">
                        <label>姓名/学校</label>
                        <input type="text" id="feelName" placeholder="请输入姓名或学校名称">
                    </div>
                    <div class="form-group">
                        <label>参与普法活动</label>
                        <select id="feelActivity">
                            <option value="">请选择活动类型</option>
                            <option value="宪法宣传周">宪法宣传周</option>
                            <option value="校园法治讲座">校园法治讲座</option>
                            <option value="民法典学习">民法典学习</option>
                            <option value="模拟法庭">模拟法庭</option>
                            <option value="其他普法活动">其他普法活动</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>学法感受</label>
                        <textarea id="feelContent" placeholder="请分享您的学法心得和感受..." style="height: 100px;"></textarea>
                    </div>
                    <button class="btn" style="background: linear-gradient(45deg, #ff7e5f, #feb47b);" onclick="submitStudyFeeling()">提交感受</button>
                    
                    <!-- 学法感受列表 -->
                    <div style="margin-top: 20px;">
                        <h5 style="color: #333; margin-bottom: 10px;">📝 最新感受</h5>
                        <div class="resource-list" id="feelingList" style="max-height: 200px;">
                            <p style="text-align: center; color: #666;">暂无学法感受，快来分享吧！</p>
                        </div>
                    </div>
                </div>
                <!-- 统计卡片 -->
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="totalSchools">0</div>
                        <div class="stat-label">参与学校</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="totalResources">0</div>
                        <div class="stat-label">共享资源</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="totalActivities">0</div>
                        <div class="stat-label">普法活动</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="totalFeelings">0</div>
                        <div class="stat-label">学法感受</div>
                    </div>
                </div>
                <!-- 活动统计 -->
                <div style="margin-top: 30px;">
                    <h4 style="margin-bottom: 15px; color: #333;">📈 活动统计</h4>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                        <p style="margin-bottom: 10px;"><strong>本月新增资源：</strong> <span style="color: #dc3545;" id="monthlyResources">0个</span></p>
                        <p style="margin-bottom: 10px;"><strong>本月新增感受：</strong> <span style="color: #dc3545;" id="monthlyFeelings">0个</span></p>
                        <p style="margin-bottom: 10px;"><strong>活跃用户数：</strong> <span style="color: #dc3545;" id="activeUsers">0人</span></p>
                        <p style="margin-bottom: 10px;"><strong>资源下载量：</strong> <span style="color: #dc3545;" id="downloadCount">0次</span></p>
                        <p style="margin-bottom: 0;"><strong>社区互动数：</strong> <span style="color: #dc3545;" id="interactionCount">0条</span></p>
                    </div>
                </div>
                <button class="btn" style="margin-top: 20px;" onclick="refreshStats()">🔄 刷新统计</button>
            </div>
            <!-- 需求对接模块 -->
            <div class="feature-card demand-matching">
                <h3>🤝 需求对接</h3>
                
                <div class="demand-form">
                    <div class="form-group">
                        <label>需求标题</label>
                        <input type="text" id="demandTitle" placeholder="请输入您的需求标题">
                    </div>
                    <div class="form-group">
                        <label>需求类型</label>
                        <select id="demandType">
                            <option value="">请选择需求类型</option>
                            <option value="普法教材">普法教材</option>
                            <option value="法治讲座">法治讲座</option>
                            <option value="专家资源">专家资源</option>
                            <option value="实践基地">实践基地</option>
                            <option value="活动合作">活动合作</option>
                            <option value="师资交流">师资交流</option>
                            <option value="其他">其他</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>详细描述</label>
                        <textarea id="demandDesc" placeholder="请详细描述您的需求，包括时间、数量等要求"></textarea>
                    </div>
                    <div class="form-group">
                        <label>联系方式</label>
                        <input type="text" id="contactInfo" placeholder="请输入您的联系方式">
                    </div>
                    <button class="btn" onclick="publishDemand()">📢 发布需求</button>
                </div>
                <div>
                    <h4 style="margin-bottom: 15px; color: #333;">📝 需求列表</h4>
                    <div class="demand-list" id="demandList">
                        <p style="text-align: center; color: #666;">暂无需求信息</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 新增：底部图2内容 -->
    <div class="footer-content">
        <div class="footer-title">普法主题知识库</div>
        <div class="law-topics">
            <div class="law-topic-item">法的由来&东西方法律辨析(法律导学)</div>
            <div class="law-topic-item">树立宪法权威 弘扬法治精神(宪法介绍)</div>
            <div class="law-topic-item">民法点亮我们的生活(民法典科普)</div>
            <div class="law-topic-item">法学百科专业纵览 挥法律利剑 执正义天平(了解法律职业)</div>
            <div class="law-topic-item">与法同行无歧路 遵纪守法育未来(预防未成年人犯罪)</div>
            <div class="law-topic-item">倡导诚实守信 共筑消费和谐(消费者权益保护日)</div>
            <div class="law-topic-item">向校园霸凌勇敢说不(拒绝校园欺凌)</div>
            <div class="law-topic-item">拒绝家庭暴力守护幸福时光(妇女儿童保护)</div>
            <div class="law-topic-item">民以食为天 食以安为先(食品安全)</div>
            <div class="law-topic-item">诈骗拐卖花样多 莫予理睬准没错(防范电诈拐卖)</div>
            <div class="law-topic-item">关注健康平安成长 网络安全人人抓"信"福进入千万家(网络信息安全)</div>
            <div class="law-topic-item">预防流行疾病享受健康人生(防治流行病)</div>
            <div class="law-topic-item">牢记消防知识点 巩固安全防火墙(消防安全)</div>
            <div class="law-topic-item">"小太阳"普法课堂 足行千里路眼观八方情 处处平安意(旅游安全)</div>
            <div class="law-topic-item">地球天然宝库 更需你我呵护(世界地球日)</div>
            <div class="law-topic-item">绿水青山共同守护 清水滴滴大家省 源远流长润世人(节约用水)</div>
            <div class="law-topic-item">千年运河消古韵 魅力中国换新颜(运河保护)</div>
            <div class="law-topic-item">手拉手防灾减灾心连心共筑安全(自然灾害防护)</div>
            <div class="law-topic-item">追寻烈士感恩思源(烈士纪念日)</div>
            <div class="law-topic-item">星梦续航再踏征途(航天日)</div>
            <div class="law-topic-item">勿忘国耻 吾辈自强(国家公祭日)</div>
            <div class="law-topic-item">理想信念 造炬成阳 春风化雨历经艰辛 尊师重道勿忘师恩(教师节)</div>
            <div class="law-topic-item">保护昨天的遗产 捍卫明天的文化(世界博物馆日)</div>
            <div class="law-topic-item">吹响法律促进集结号 奏响宜居乡村振兴歌(乡村振兴)</div>
        </div>
    </div>

    <div id="notification" class="notification"></div>
    <script>
        // 全局数据存储
        let resources = [];
        let demands = [];
        let studyFeelings = [];
        let downloadCount = 0;
        // 页面加载完成后初始化
        window.addEventListener('DOMContentLoaded', function() {
            setupUploadArea();
            displayResources();
            displayDemands();
            displayStudyFeelings();
            updateStats();
        });
        // 设置上传区域
        function setupUploadArea() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            // 点击上传
            uploadArea.addEventListener('click', () => {
                fileInput.click();
            });
            // 文件选择
            fileInput.addEventListener('change', handleFileSelect);
            // 拖拽上传
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                const files = e.dataTransfer.files;
                handleFiles(files);
            });
        }
        // 处理文件选择
        function handleFileSelect(e) {
            const files = e.target.files;
            handleFiles(files);
        }
        // 处理文件
        function handleFiles(files) {
            const preview = document.getElementById('filePreview');
            preview.innerHTML = '';
            if (files.length > 0) {
                const fileList = Array.from(files).map(file => 
                    `<div class="file-preview">📄 ${file.name} (${formatFileSize(file.size)})</div>`
                ).join('');
                preview.innerHTML = fileList;
            }
        }
        // 格式化文件大小
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        // 上传资源
        function uploadResource() {
            const title = document.getElementById('resourceTitle').value;
            const grade = document.getElementById('gradeLevel').value;
            const subject = document.getElementById('subject').value;
            const description = document.getElementById('resourceDesc').value;
            const fileInput = document.getElementById('fileInput');
            if (!title || !grade || !subject) {
                showNotification('请填写完整的资源信息', 'error');
                return;
            }
            const files = Array.from(fileInput.files);
            
            const newResource = {
                title,
                grade,
                subject,
                description,
                uploader: "当前用户",
                date: new Date().toLocaleDateString(),
                month: new Date().getMonth() + 1,
                files: files.map(file => ({
                    name: file.name,
                    size: file.size,
                    type: file.type,
                    url: URL.createObjectURL(file)
                }))
            };
            resources.unshift(newResource);
            displayResources();
            updateStats();
            // 清空表单
            document.getElementById('resourceTitle').value = '';
            document.getElementById('gradeLevel').value = '';
            document.getElementById('subject').value = '';
            document.getElementById('resourceDesc').value = '';
            document.getElementById('fileInput').value = '';
            document.getElementById('filePreview').innerHTML = '';
            showNotification('普法资源分享成功！', 'success');
        }
        // 显示资源列表
        function displayResources() {
            const resourceList = document.getElementById('resourceList');
            
            if (resources.length === 0) {
                resourceList.innerHTML = '<p style="text-align: center; color: #666;">暂无资源，快来分享第一个普法资源吧！</p>';
                return;
            }
            const html = resources.map(resource => `
                <div class="resource-item">
                    <h4>${resource.title}</h4>
                    <p><strong>分类：</strong>${resource.grade} - ${resource.subject}</p>
                    <p><strong>描述：</strong>${resource.description}</p>
                    <p><strong>分享者：</strong>${resource.uploader} | <strong>时间：</strong>${resource.date}</p>
                    ${resource.files.length > 0 ? `
                        <div class="download-section">
                            <strong>附件文件：</strong><br>
                            ${resource.files.map(file => 
                                `<button class="download-btn" onclick="downloadFile('${file.url}', '${file.name}')">
                                    📥 ${file.name}
                                </button>`
                            ).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
            resourceList.innerHTML = html;
        }
        // 下载文件函数
        function downloadFile(url, filename) {
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            // 下载量+1
            downloadCount++;
            showNotification(`正在下载：${filename}`, 'info');
        }
        // 发布需求
        function publishDemand() {
            const title = document.getElementById('demandTitle').value;
            const type = document.getElementById('demandType').value;
            const description = document.getElementById('demandDesc').value;
            const contact = document.getElementById('contactInfo').value;
            if (!title || !type || !description || !contact) {
                showNotification('请填写完整的需求信息', 'error');
                return;
            }
            const newDemand = {
                title,
                type,
                description,
                contact,
                date: new Date().toLocaleDateString()
            };
            demands.unshift(newDemand);
            displayDemands();
            // 清空表单
            document.getElementById('demandTitle').value = '';
            document.getElementById('demandType').value = '';
            document.getElementById('demandDesc').value = '';
            document.getElementById('contactInfo').value = '';
            showNotification('需求发布成功！', 'success');
        }
        // 显示需求列表
        function displayDemands() {
            const demandList = document.getElementById('demandList');
            
            if (demands.length === 0) {
                demandList.innerHTML = '<p style="text-align: center; color: #666;">暂无需求信息</p>';
                return;
            }
            const html = demands.map(demand => `
                <div class="demand-item">
                    <h4>${demand.title}</h4>
                    <p><strong>类型：</strong>${demand.type}</p>
                    <p><strong>描述：</strong>${demand.description}</p>
                    <p><strong>联系：</strong>${demand.contact}</p>
                    <p><strong>时间：</strong>${demand.date}</p>
                    <button class="contact-btn" onclick="contactDemander('${demand.contact}')">💬 联系对接</button>
                </div>
            `).join('');
            demandList.innerHTML = html;
        }
        // 联系需求方
        function contactDemander(contact) {
            showNotification(`请通过以下方式联系：${contact}`, 'info');
        }
        // 提交学法感受函数
        function submitStudyFeeling() {
            const name = document.getElementById('feelName').value;
            const activity = document.getElementById('feelActivity').value;
            const content = document.getElementById('feelContent').value;
            // 表单验证：必填项不能为空
            if (!name || !activity || !content.trim()) {
                showNotification('姓名/学校、活动类型、感受内容均为必填项', 'error');
                return;
            }
            // 构造新感受数据
            const newFeeling = {
                name: name,
                activity: activity,
                content: content,
                date: new Date().toLocaleDateString(),
                month: new Date().getMonth() + 1
            };
            // 新增感受存入数组
            studyFeelings.unshift(newFeeling);
            // 渲染感受列表
            displayStudyFeelings();
            // 更新统计数据
            updateStats();
            // 清空表单
            document.getElementById('feelName').value = '';
            document.getElementById('feelActivity').value = '';
            document.getElementById('feelContent').value = '';
            // 提交成功通知
            showNotification('学法感受提交成功！', 'success');
        }
        // 显示学法感受列表
        function displayStudyFeelings() {
            const feelingList = document.getElementById('feelingList');
            // 无数据时显示提示
            if (studyFeelings.length === 0) {
                feelingList.innerHTML = '<p style="text-align: center; color: #666;">暂无学法感受，快来分享吧！</p>';
                return;
            }
            // 有数据时渲染列表
            const html = studyFeelings.map(feeling => `
                <div class="resource-item" style="border-left-color: #ff7e5f;">
                    <p><strong>分享者：</strong>${feeling.name} | <strong>活动：</strong>${feeling.activity}</p>
                    <p><strong>感受：</strong>${feeling.content}</p>
                    <p style="font-size: 12px; color: #999;"><strong>提交时间：</strong>${feeling.date}</p>
                </div>
            `).join('');
            feelingList.innerHTML = html;
        }
        // 更新统计数据
        function updateStats() {
            const currentMonth = new Date().getMonth() + 1;
            
            // 1. 基础统计
            document.getElementById('totalResources').textContent = resources.length;
            document.getElementById('totalSchools').textContent = Math.max(1, Math.floor(resources.length / 5));
            document.getElementById('totalFeelings').textContent = studyFeelings.length;
            document.getElementById('totalActivities').textContent = resources.length + demands.length + studyFeelings.length;
            // 2. 月度统计
            const monthlyResources = resources.filter(r => r.month === currentMonth).length;
            const monthlyFeelings = studyFeelings.filter(f => f.month === currentMonth).length;
            document.getElementById('monthlyResources').textContent = `${monthlyResources}个`;
            document.getElementById('monthlyFeelings').textContent = `${monthlyFeelings}个`;
            // 3. 活跃用户数
            const resourceUploaders = [...new Set(resources.map(r => r.uploader))];
            const feelingSubmitters = [...new Set(studyFeelings.map(f => f.name))];
            const activeUsers = [...new Set([...resourceUploaders, ...feelingSubmitters])].length;
            document.getElementById('activeUsers').textContent = `${activeUsers}人`;
            // 4. 其他统计
            document.getElementById('downloadCount').textContent = `${downloadCount}次`;
            document.getElementById('interactionCount').textContent = `${demands.length}条`;
        }
        // 刷新统计
        function refreshStats() {
            updateStats();
            showNotification('统计数据已更新', 'success');
        }
        // 显示通知
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification show';
            
            if (type === 'error') {
                notification.style.background = '#dc3545';
            } else if (type === 'info') {
                notification.style.background = '#17a2b8';
            } else {
                notification.style.background = '#28a745';
            }
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
